# Agregar este bloque al openapi.yaml existente en la secci칩n "paths"

"/api/guardar-memoria":
  post:
    summary: "游 GUARDAR EN MEMORIA - Almacenamiento intencional de contexto"
    description: |
      Permite al agente guardar contenido expl칤citamente en memoria vectorial.
      El agente decide QU칄 es importante bas치ndose en intenci칩n sem치ntica.
      
      Casos de uso:
      - Guardar res칰menes de conversaciones largas
      - Almacenar decisiones importantes del usuario
      - Registrar configuraciones aplicadas
      - Documentar soluciones a problemas complejos
      
      NO usa heur칤sticas autom치ticas - el agente tiene control total.
    operationId: "guardarMemoria"
    tags:
      - "游 Memoria Sem치ntica"
    security: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - contenido
            properties:
              contenido:
                type: string
                description: "Contenido a guardar en memoria vectorial"
                example: "Resumen: El usuario configur칩 top_k=8 para mejorar b칰squeda vectorial..."
              tipo:
                type: string
                description: "Tipo de memoria"
                enum:
                  - resumen_conversacion
                  - decision_usuario
                  - configuracion_aplicada
                  - solucion_problema
                  - memoria_manual
                default: "memoria_manual"
              session_id:
                type: string
                description: "ID de sesi칩n (opcional, se detecta autom치ticamente)"
              agent_id:
                type: string
                description: "ID del agente (opcional, se detecta autom치ticamente)"
              metadata:
                type: object
                description: "Metadata adicional"
                properties:
                  importancia:
                    type: string
                    enum: ["baja", "media", "alta"]
                  fuente:
                    type: string
                  tags:
                    type: array
                    items:
                      type: string
          examples:
            resumen:
              summary: "Guardar resumen de conversaci칩n"
              value:
                contenido: "Resumen: Usuario solicit칩 configurar top_k=8 en copiloto-semantico-func-us2. Se aplic칩 exitosamente."
                tipo: "resumen_conversacion"
                metadata:
                  importancia: "alta"
                  fuente: "foundry"
            decision:
              summary: "Guardar decisi칩n del usuario"
              value:
                contenido: "Decisi칩n: Usuario prefiere usar Azure CLI en lugar de SDK para operaciones de storage"
                tipo: "decision_usuario"
                session_id: "assistant"
    responses:
      "200":
        description: "Contenido guardado exitosamente en memoria"
        content:
          application/json:
            schema:
              type: object
              properties:
                exito:
                  type: boolean
                  example: true
                mensaje:
                  type: string
                  example: "Contenido guardado en memoria vectorial"
                detalles:
                  type: object
                  properties:
                    longitud:
                      type: integer
                      description: "Longitud del contenido guardado"
                    tipo:
                      type: string
                    session_id:
                      type: string
                    timestamp:
                      type: string
                      format: date-time
      "400":
        description: "Par치metros inv치lidos"
        content:
          application/json:
            schema:
              type: object
              properties:
                exito:
                  type: boolean
                  example: false
                error:
                  type: string
                ejemplo:
                  type: object
